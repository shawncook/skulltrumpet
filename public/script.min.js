cooldown=!1,options={doot:document.querySelector("audio"),dooter:document.getElementById("doot"),dootEl:document.querySelector(".doots"),toggle:document.querySelector(".toggle"),tipjar:document.getElementById("tipjar")},flyoutToggle=t=>{var o="true"===(t.toggle?t.toggle.getAttribute("aria-expanded"):"false");gtag("event","click",{event_category:"flyout",event_label:o?"close":"open"}),t.tipjar.classList.toggle("open"),t.toggle.setAttribute("aria-expanded",!o)},flyoutClose=t=>{t=t.toggle?t.toggle.getAttribute("aria-expanded"):"false";options.toggle&&"true"===t&&flyoutToggle(options)},playAudio=()=>{options.doot.pause(),options.doot.currentTime=0,options.doot.play()},playGif=()=>{const t=options.dooter.querySelector("img"),o=t.getAttribute("src").split("?")[0];var e=o.replace(".png",".gif")+"?"+(new Date).getTime();t.src=e},incrementDoots=()=>{var t=localStorage.getItem("dootCounter");localStorage.setItem("dootCounter",parseInt(t)+1),setDoots()},handleDoot=t=>{if(t.preventDefault(),t.stopPropagation(),!cooldown){cooldown=!0;const o=t.currentTarget;return o&&(o.disabled=!0),gtag("event","click",{event_category:"button",event_label:"tumpet"}),playGif(),playAudio(),setTimeout(()=>{incrementDoots(),showNice(),o&&(o.disabled=!1),cooldown=!1},1e3),!1}},setDoots=()=>{var t=localStorage.getItem("dootCounter");options.dootEl;null!==t&&!isNaN(t)||localStorage.setItem("dootCounter",0),options.dootEl.innerHTML=t},showNice=()=>{var t=parseInt(localStorage.getItem("dootCounter")),o=420==t||69==t;const e=options.dootEl;t<0?e.setAttribute("data-tooltip","umm"):o?(e.setAttribute("data-tooltip",420===t?"blaze it":"nice"),gtag("event","click",{event_category:"button",event_label:"doots",value:t}),setTimeout(()=>{e.removeAttribute("data-tooltip")},2250)):e.removeAttribute("data-tooltip")},handleKeyup=(t,o)=>{32==t.keyCode&&handleDoot(t),27==t.keyCode&&flyoutClose(o)},bind=()=>{options.dooter.addEventListener("click",handleDoot),options.toggle.addEventListener("click",t=>flyoutToggle(options)),document.body.onkeyup=t=>handleKeyup(t,options),document.addEventListener("click",t=>{options.tipjar.contains(t.target)||flyoutClose(options)})},bind(),setDoots();